def qb(Sy,Sz,theta,Aboom,zpos,ypos,Izz,Iyy):
    theta= radians(theta) # angle in degrees
    Sy' = Sy*cos(theta)+Sz*sin(theta) # shear force rotated in our coordinate system
    Sz' =  Sz*cos(theta)-Sy*sin(theta) #shear force rotated in our coordinate system
    h=0
    lstqbright=[]
    lstqbleft=[]
    rightcell=Aboom[0:5]+Aboom[8:13]
    leftcell=Aboom[4:9]
   
    #first calculate shear flow in right cell
    
    for n in rightcell:
        qb=(Sz/Iyy)*Aboom[h]*zpos[h]-(Sy/Izz)*Aboom[h]*ypos[h]
        h+=1
        lstqbright.append(qb)
        
    #secondly calculate the shear flow in the left cell
    
    for i in leftcell:
        qb=(Sz/Iyy)*Aboom[h]*zpos[h]-(Sy/Izz)*Aboom[h]*ypos[h]
        h+=1
        lstqbleft.append(qb)
    
    
    return lstqbright,lstqbleft
